#include<stdio.h>
#include<stdlib.h>

void selectionsort(float arr[], int n){
	int i, j, min_idx;
	float temp;
	for (i=0; i<n-1; i++){
		min_idx = i;
		for (j = i+1; j<n; j++){
			if (arr[j]< arr[min_idx])
			min_idx = j;
		}
		temp = arr[i];
		arr[i]=arr[min_idx];
		arr[min_idx] = temp;
	}
}

void bubblesort (float arr[], int n){
	int i, j;
	float temp;
	for (i = 0; i<n-1; i++){
		for (j = 0; j<n -i -1; j++){
			if (arr[j]> arr[j +1]){
				temp = arr[j]; arr[j] = arr[j+1]; arr[j+1]= temp;
			}
		}
	}
}

void displayTopFive (float arr[], int n){
	printf("\\nTop Five Scores:\\n");
	int count = (n>= 5) ? 5: n;
	if (count == 0){
		printf("No scores available.\\n");
		return;
	}
	for (int i = n-1; i >= n - count; i--){
		printf("%.2f\\n", arr[i]);
	}
}

int main(){
	int n, choice;
	printf ("Enter number of students:");
	scanf("%d", &n);
	
	if (n<=0){
		printf("Invalid number of student!\\n");
		return 1;
	}
	float *marks =(float *) malloc(n *sizeof(float));
	if (marks == NULL){
		printf("Memory allocation failed!\\n");
		return 1;
	}
	
	printf("Enter percentage of each student:\\n");
	for (int i = 0; i<n; i++){
		printf("Student %d:", i+1);
		scanf("%f", & marks[i]);
	}
	
	printf("\\nChoose sorting method:\\n");
	printf("1. Selection Sort \\n");
	printf("2. Bubble Sort\\n");
	printf("Enter your choice(1 or 2):");
	scanf("%d", & choice);
	
	if (choice == 1)
	   selectionsort (marks, n);
	else if (choice == 2)
       bubblesort(marks, n);
	else{
		printf("Invalid choice!\\n");
		free(marks);
		return 1;
	}
	printf("\\nSorted Percentage(Ascending Order):\\n");
	for (int i = 0; i<n; i++){
		printf("%.2f", marks[i]);
	}
	printf("\\n");
	displayTopFive(marks, n);
	
	free(marks);
	return 0;
}
